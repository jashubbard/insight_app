(function(){var d=0,c=function(a,b){return"function"===typeof a&&!a.replaced?(b.replaced=!0,b):a};if("undefined"!==typeof CustomEvent&&"function"===typeof window.dispatchEvent){var f=function(a){try{if("object"===typeof a&&(a=JSON.stringify(a)),"string"===typeof a)return window.dispatchEvent(new CustomEvent("lprequeststart",{detail:{data:a,requestID:++d}})),d}catch(b){}},g=function(a){try{window.dispatchEvent(new CustomEvent("lprequestend",{detail:a}))}catch(b){}};if("undefined"!==typeof XMLHttpRequest&&
XMLHttpRequest.prototype&&XMLHttpRequest.prototype.send){var k=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=c(XMLHttpRequest.prototype.send,function(a){var b=this,e=f(a);e&&b.addEventListener("loadend",function(){g({requestID:e,statusCode:b.status})});return k.apply(b,arguments)})}if("function"===typeof fetch){var l=fetch;fetch=c(fetch,function(a,b){var e=f(b),c=l.apply(this,arguments);if(e){var d=function(a){g({requestID:e,statusCode:a&&a.status})};c.then(d).catch(d)}return c})}var h=
function(a){return c(a,function(){try{this.dispatchEvent(new CustomEvent("lpsubmit"))}catch(b){}return a.apply(this,arguments)})},j=function(){if(document&&document.forms&&0<document.forms.length)for(var a=0;a<document.forms.length;++a)document.forms[a].submit=h(document.forms[a].submit)};document&&"interactive"===document.readyState||"complete"===document.readyState?j():window.addEventListener("DOMContentLoaded",j,!0);var m=document.createElement;document.createElement=c(document.createElement,function(){var a=
m.apply(this,arguments);a&&("FORM"===a.nodeName&&a.submit)&&(a.submit=h(a.submit));return a})}})();
